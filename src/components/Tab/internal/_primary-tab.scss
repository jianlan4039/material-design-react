@use "./tab";
@use "../../tokens/md-comp-primary-tab";
@use "../../builder/tokens-builder";
@use "../../Ripple/internal/ripple";

@mixin theme($tokens) {
  @include tokens-builder.theme($tokens, md-comp-primary-tab.$supported-tokens, primary-tab);
}

@mixin styles() {
  @include tab.styles;

  .primary-tab {
    @include tokens-builder.tokens(md-comp-primary-tab.values(), primary-tab);
    @include tab.theme((
      font-size: var(--_label-text-size),
      font-weight: var(--_label-text-weight),
      font-line-height: var(--_label-text-line-height),
      font-color: var(--_label-text-color),
      font-family: var(--_label-text-font)
    ));
    @include ripple.theme((
      hover-color: var(--_hover-state-layer-color),
      pressed-color: var(--_pressed-state-layer-color)
    ));
    background: var(--_container-color);
    block-size: var(--_container-height);
    border-radius: var(--_container-shape);
    cursor: pointer;
    outline: none;
    position: relative;
    z-index: 10;

    .nd-focus-ring-container {
      z-index: 10;

      .nd-focus-ring {
        border-radius: var(--_container-shape);
      }
    }

    .primary-tab__indicator {
      block-size: var(--_active-indicator-height);
      background: var(--_active-indicator-color);
      border-radius: var(--_active-indicator-shape);
    }

    .tab__presentation {
      inline-size: fit-content;
      block-size: inherit;
    }

    &.primary-tab--focus {
      .tab__presentation {
        .tab__presentation__icon {
          color: var(--_focus-icon-color);
        }

        .tab__presentation__text {
          color: var(--_focus-label-text-color)
        }
      }
    }

    &.primary-tab--hover {
      .tab__presentation {
        .tab__presentation__icon {
          color: var(--_hover-icon-color);
        }

        .tab__presentation__text {
          color: var(--_hover-label-text-color)
        }
      }
    }

    &.primary-tab--pressed {
      .tab__presentation {
        .tab__presentation__icon {
          color: var(--_pressed-icon-color);
        }

        .tab__presentation__text {
          color: var(--_pressed-label-text-color)
        }
      }
    }

    &.primary-tab--active {
      @include ripple.theme((
        hover-color: var(--_active-hover-state-layer-color),
        pressed-color: var(--_active-pressed-state-layer-color)
      ));

      &.primary-tab--focus {
        .tab__presentation {
          .tab__presentation__icon {
            color: var(--_active-focus-icon-color);
          }

          .tab__presentation__text {
            color: var(--_active-focus-label-text-color)
          }
        }
      }

      &.primary-tab--hover {
        .tab__presentation {
          .tab__presentation__icon {
            color: var(--_active-hover-icon-color);
          }

          .tab__presentation__text {
            color: var(--_active-hover-label-text-color)
          }
        }
      }

      &.primary-tab--pressed {
        .tab__presentation {
          .tab__presentation__icon {
            color: var(--_active-pressed-icon-color);
          }

          .tab__presentation__text {
            color: var(--_active-pressed-label-text-color)
          }
        }
      }
    }
  }
}