@use "sass:map";
@use "../../builder/tokens-builder";
@use "../../builder/background";
@use "../../tokens/md-comp-navigation-drawer";
@use "../../List/internal/list-item";
@use "../../tokens/md-sys-color";
@use "../../tokens/md-ref-palette";
@use "../../Elevation/internal/elevation";
@use "../../tokens/md-sys-motion";


$_default: (
  color: md-sys-color.values-light(),
  palette: md-ref-palette.values(),
  motion: md-sys-motion.values()
);

$_values: (
  scrim: map.get($_default, 'palette', 'neutral-variant20')
);

@mixin theme($tokens) {

}

@mixin styles() {
  .navigation-drawer-container {
    @include tokens-builder.tokens(md-comp-navigation-drawer.values(), navigation-drawer);
    display: contents;
  }

  .navigation-drawer {
    @include background.theme((
      color: var(--_standard-container-color)
    ));
    @include list-item.theme((
      one-line-container-height: var(--_active-indicator-height)
    ));
    position: fixed;
    inset: 0 auto 0 0;
    inline-size: var(--_container-width);
    block-size: var(--_container-height);
    border-radius: var(--_container-shape);
    padding-inline: 12px;
    box-sizing: border-box;
    margin: 0;
    list-style: none;
    overflow: hidden;
    @include background.styles;

    .headline {
      margin: 0;
      padding-inline-start: 16px;
      font-family: var(--_headline-font);
      font-size: var(--_headline-size);
      font-weight: var(--_headline-weight);
      line-height: calc(var(--_headline-line-height) * 3);
      color: var(--_headline-color);
    }

    .nd-divider {
      margin-block-start: 4px;
    }

    &.modal {
      @include background.theme((
        color: var(--_modal-container-color)
      ));
      @include elevation.theme((
        level: var(--_modal-container-elevation)
      ));
    }
  }

  .navigation-drawer-container {
    .navigation-drawer-dialog {
      padding: 0;
      border: none;
      outline: none;
      margin: 0;

      .navigation-drawer-scrim {
        position: fixed;
        inset: 0;
        z-index: -1;
        opacity: 0.4;
        background-color: map.get($_default, 'palette', 'neutral-variant20');
      }

      &::backdrop {
        background-color: transparent;
      }
    }
  }
}