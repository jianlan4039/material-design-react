@use "share";
@use "../../builder/tokens-builder";
@use "supporing-text";

@mixin styles() {
  .nd-outlined-field {
    @include share.theme((
      input-opacity: 0
    ));
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    margin: 0;
    cursor: text;
    block-size: 56px;
    @include share.styles;
    @include supporing-text.styles;

    .nd-outlined-field__outline {
      position: absolute;
      box-sizing: content-box;
      border-style: solid;
      inline-size: 100%;
      block-size: inherit;
      padding: 0;
      margin: 0;
      border-radius: var(--_container-shape);
      border-color: var(--_outline-color);
      border-width: var(--_outline-width);
    }

    .nd-field__label-reflection {
      font-size: var(--_label-text-populated-size);
      line-height: var(--_label-text-populated-line-height);
      margin-left: 16px;
      height: 0;
      width: 0;
      opacity: 0;
      box-sizing: border-box;
      padding: 0;
      display: flex;

      &.calculating {
        display: flex;
        width: auto;
        padding-inline: 2px;
      }
    }

    .nd-field {
      block-size: inherit;

      .nd-field__label {
        position: absolute;
        display: block;
        inset-inline-start: 16px;
        color: var(--_label-text-color);
        font-size: var(--_label-text-size);
        font-family: var(--_label-text-font);
        font-weight: var(--_label-text-weight);
        line-height: var(--_label-text-line-height);
        //opacity: 0;
      }

      .nd-field__input-wrapper__input {
        pointer-events: none;
      }

      &.with-leading {
        .nd-field__label {
          inset-inline-start: calc(12px + 24px + 16px);
        }
      }
    }

    &.with-supporting-text {
      margin-block-end: 20px;
    }

    &.populated {
      @include share.theme((
        input-opacity: 1
      ));

      .nd-field__input-wrapper__input {
        pointer-events: auto;
      }
    }

    &:hover {
      @include share.theme((
        input-text-color: var(--_hover-input-text-color),
        leading-icon-color: var(--_hover-leading-icon-color),
        trailing-icon-color: var(--_hover-trailing-icon-color)
      ));
      @include supporing-text.theme((
        supporting-text-color: var(--_hover-supporting-text-color)
      ));

      .nd-outlined-field__outline {
        border-color: var(--_hover-outline-color);
        border-width: var(--_hover-outline-width);
      }

      .nd-field__label {
        color: var(--_hover-label-text-color)
      }
    }

    &.focus {
      @include share.theme((
        input-text-color: var(--_focus-input-text-color),
        leading-icon-color: var(--_focus-leading-icon-color),
        trailing-icon-color: var(--_focus-trailing-icon-color)
      ));
      @include supporing-text.theme((
        supporting-text-color: var(--_focus-supporting-text-color)
      ));

      .nd-outlined-field__outline {
        border-color: var(--_focus-outline-color);
      }

      .nd-field__label {
        color: var(--_focus-label-text-color)
      }
    }

    &.error {
      @include share.theme((
        input-text-color: var(--_error-input-text-color),
        leading-icon-color: var(--_error-leading-icon-color),
        trailing-icon-color: var(--_error-trailing-icon-color)
      ));
      @include supporing-text.theme((
        supporting-text-color: var(--_error-supporting-text-color)
      ));

      .nd-outlined-field__outline {
        border-color: var(--_error-outline-color);
      }
      //
      .nd-field__label {
        color: var(--_error-label-text-color)
      }

      &:hover {
        @include share.theme((
          input-text-color: var(--_error-hover-input-text-color),
          leading-icon-color: var(--_error-hover-leading-icon-color),
          trailing-icon-color: var(--_error-hover-trailing-icon-color)
        ));
        @include supporing-text.theme((
          supporting-text-color: var(--_error-hover-supporting-text-color)
        ));

        .nd-outlined-field__outline {
          border-color: var(--_error-hover-outline-color);
        }

        .nd-field__label {
          color: var(--_error-hover-label-text-color)
        }
      }

      &.focus {
        @include share.theme((
          caret-color: var(--_error-focus-caret-color),
          input-text-color: var(--_error-focus-input-text-color),
          leading-icon-color: var(--_error-focus-leading-icon-color),
          trailing-icon-color: var(--_error-focus-trailing-icon-color)
        ));
        @include supporing-text.theme((
          supporting-text-color: var(--_error-focus-supporting-text-color)
        ));

        .nd-outlined-field__outline {
          border-color: var(--_error-focus-outline-color);
        }

        .nd-field__label {
          color: var(--_error-focus-label-text-color)
        }
      }
    }

    &.disabled {
      @include share.theme((
        input-text-color: var(--_disabled-input-text-color),
        input-opacity: var(--_disabled-input-text-opacity),
        leading-icon-color: var(--_disabled-leading-icon-color),
        leading-opacity: var(--_disabled-leading-icon-opacity),
        trailing-opacity: var(--_disabled-trailing-icon-opacity),
        trailing-icon-color: var(--_disabled-trailing-icon-color)
      ));
      @include supporing-text.theme((
        supporting-text-color: var(--_disabled-supporting-text-color),
        supporting-text-opacity: var(--_disabled-supporting-text-opacity)
      ));

      .nd-outlined-field__outline {
        border-color: var(--_disabled-outline-color);
        border-width: var(--_disabled-outline-width);
        opacity: var(--_disabled-outline-opacity);
      }

      .nd-field__label {
        color: var(--_disabled-label-text-color);
        opacity: var(--_disabled-label-text-opacity);
      }
    }
  }
}